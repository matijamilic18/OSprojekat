GAS LISTING /tmp/cckm6Pyi.s 			page 1


   1              		.file	"syscall_c.cpp"
   2              		.option pic
   3              		.option norelax
   4              		.text
   5              	.Ltext0:
   6              		.align	2
   7              		.globl	_Z13thread_createPP3TCBPFvPvES2_
   9              	_Z13thread_createPP3TCBPFvPvES2_:
  10              	.LFB0:
  11              		.file 1 "src/syscall_c.cpp"
   1:src/syscall_c.cpp **** //
   2:src/syscall_c.cpp **** // Created by os on 7/1/23.
   3:src/syscall_c.cpp **** //
   4:src/syscall_c.cpp **** 
   5:src/syscall_c.cpp **** #include "../h/syscall_c.hpp"
   6:src/syscall_c.cpp **** #include "../lib/hw.h"
   7:src/syscall_c.cpp **** #include "../h/print.hpp"
   8:src/syscall_c.cpp **** 
   9:src/syscall_c.cpp **** 
  10:src/syscall_c.cpp **** int thread_create(thread_t *handle, void (*start_routine)(void *), void *arg) {
  12              		.loc 1 10 79
  13              		.cfi_startproc
  14              	.LVL0:
  15 0000 130101FF 		addi	sp,sp,-16
  16              		.cfi_def_cfa_offset 16
  17 0004 23348100 		sd	s0,8(sp)
  18              		.cfi_offset 8, -8
  19 0008 13040101 		addi	s0,sp,16
  20              		.cfi_def_cfa 8, 0
  11:src/syscall_c.cpp ****     __asm__ volatile ("mv a3, %0" : : "r" (arg));
  21              		.loc 1 11 5
  22              		.loc 1 11 49 is_stmt 0
  23              	#APP
  24              	# 11 "src/syscall_c.cpp" 1
  12              	    __asm__ volatile ("mv a2, %0" : : "r" (start_routine));
  25              		mv a3, a2
  26              	# 0 "" 2
  27              		.loc 1 12 5 is_stmt 1
  28              		.loc 1 12 59 is_stmt 0
  29              	# 12 "src/syscall_c.cpp" 1
  13              	    __asm__ volatile ("mv a1, %0" : : "r" (handle));
  30              		mv a2, a1
  31              	# 0 "" 2
  32              		.loc 1 13 5 is_stmt 1
  33              		.loc 1 13 52 is_stmt 0
  34              	# 13 "src/syscall_c.cpp" 1
  14              	    __asm__ volatile ("mv a0, %0" : : "r" (SCALL_THREAD_CREATE));
  35              		mv a1, a0
  36              	# 0 "" 2
  37              		.loc 1 14 5 is_stmt 1
  38              		.loc 1 14 65 is_stmt 0
  39              	#NO_APP
  40 0018 93071001 		li	a5,17
  41              	#APP
  42              	# 14 "src/syscall_c.cpp" 1
  15              	
  16:src/syscall_c.cpp **** 
GAS LISTING /tmp/cckm6Pyi.s 			page 2


  17:src/syscall_c.cpp ****     __asm__ volatile ("ecall");
  43              		mv a0, a5
  44              	# 0 "" 2
  45              		.loc 1 17 5 is_stmt 1
  46              		.loc 1 17 31 is_stmt 0
  47              	# 17 "src/syscall_c.cpp" 1
  18              	
  19:src/syscall_c.cpp ****     int retValue;
  48              		ecall
  49              	# 0 "" 2
  50              		.loc 1 19 5 is_stmt 1
  20:src/syscall_c.cpp ****     __asm__ volatile ("mv %0,a0" :  "=r" (retValue));
  51              		.loc 1 20 5
  52              		.loc 1 20 53 is_stmt 0
  53              	# 20 "src/syscall_c.cpp" 1
  21              	
  54              		mv a0,a0
  55              	# 0 "" 2
  56              	.LVL1:
  22:src/syscall_c.cpp ****     return  retValue;
  57              		.loc 1 22 5 is_stmt 1
  23:src/syscall_c.cpp **** 
  24:src/syscall_c.cpp **** }
  58              		.loc 1 24 1 is_stmt 0
  59              	#NO_APP
  60 0028 1B050500 		sext.w	a0,a0
  61 002c 03348100 		ld	s0,8(sp)
  62              		.cfi_restore 8
  63              		.cfi_def_cfa 2, 16
  64 0030 13010101 		addi	sp,sp,16
  65              		.cfi_def_cfa_offset 0
  66 0034 67800000 		jr	ra
  67              		.cfi_endproc
  68              	.LFE0:
  70              		.align	2
  71              		.globl	_Z15thread_dispatchv
  73              	_Z15thread_dispatchv:
  74              	.LFB1:
  25:src/syscall_c.cpp **** 
  26:src/syscall_c.cpp **** void thread_dispatch() {
  75              		.loc 1 26 24 is_stmt 1
  76              		.cfi_startproc
  77 0038 130101FF 		addi	sp,sp,-16
  78              		.cfi_def_cfa_offset 16
  79 003c 23348100 		sd	s0,8(sp)
  80              		.cfi_offset 8, -8
  81 0040 13040101 		addi	s0,sp,16
  82              		.cfi_def_cfa 8, 0
  27:src/syscall_c.cpp ****     __asm__ volatile ("mv a0, %0" : : "r" (SCALL_THREAD_DISPATCH));
  83              		.loc 1 27 5
  84              		.loc 1 27 67 is_stmt 0
  85 0044 93073001 		li	a5,19
  86              	#APP
  87              	# 27 "src/syscall_c.cpp" 1
  28              	    __asm__ volatile ("ecall");
  88              		mv a0, a5
  89              	# 0 "" 2
GAS LISTING /tmp/cckm6Pyi.s 			page 3


  90              		.loc 1 28 5 is_stmt 1
  91              		.loc 1 28 31 is_stmt 0
  92              	# 28 "src/syscall_c.cpp" 1
  29              	
  30:src/syscall_c.cpp **** }
  93              		ecall
  94              	# 0 "" 2
  95              		.loc 1 30 1
  96              	#NO_APP
  97 0050 03348100 		ld	s0,8(sp)
  98              		.cfi_restore 8
  99              		.cfi_def_cfa 2, 16
 100 0054 13010101 		addi	sp,sp,16
 101              		.cfi_def_cfa_offset 0
 102 0058 67800000 		jr	ra
 103              		.cfi_endproc
 104              	.LFE1:
 106              	.Letext0:
 107              		.file 2 "src/../h/../lib/hw.h"
 108              		.file 3 "src/../h/syscall_c.hpp"
GAS LISTING /tmp/cckm6Pyi.s 			page 4


DEFINED SYMBOLS
                            *ABS*:0000000000000000 syscall_c.cpp
     /tmp/cckm6Pyi.s:9      .text:0000000000000000 _Z13thread_createPP3TCBPFvPvES2_
     /tmp/cckm6Pyi.s:13     .text:0000000000000000 .L0 
     /tmp/cckm6Pyi.s:15     .text:0000000000000000 .L0 
     /tmp/cckm6Pyi.s:16     .text:0000000000000004 .L0 
     /tmp/cckm6Pyi.s:18     .text:0000000000000008 .L0 
     /tmp/cckm6Pyi.s:20     .text:000000000000000c .L0 
     /tmp/cckm6Pyi.s:22     .text:000000000000000c .L0 
   src/syscall_c.cpp:11     .text:000000000000000c .L0 
     /tmp/cckm6Pyi.s:28     .text:0000000000000010 .L0 
   src/syscall_c.cpp:12     .text:0000000000000010 .L0 
     /tmp/cckm6Pyi.s:33     .text:0000000000000014 .L0 
   src/syscall_c.cpp:13     .text:0000000000000014 .L0 
     /tmp/cckm6Pyi.s:38     .text:0000000000000018 .L0 
     /tmp/cckm6Pyi.s:40     .text:0000000000000018 .L0 
     /tmp/cckm6Pyi.s:46     .text:0000000000000020 .L0 
   src/syscall_c.cpp:17     .text:0000000000000020 .L0 
     /tmp/cckm6Pyi.s:51     .text:0000000000000024 .L0 
     /tmp/cckm6Pyi.s:52     .text:0000000000000024 .L0 
   src/syscall_c.cpp:20     .text:0000000000000024 .L0 
     /tmp/cckm6Pyi.s:58     .text:0000000000000028 .L0 
     /tmp/cckm6Pyi.s:60     .text:0000000000000028 .L0 
     /tmp/cckm6Pyi.s:62     .text:0000000000000030 .L0 
     /tmp/cckm6Pyi.s:63     .text:0000000000000030 .L0 
     /tmp/cckm6Pyi.s:65     .text:0000000000000034 .L0 
     /tmp/cckm6Pyi.s:67     .text:0000000000000038 .L0 
     /tmp/cckm6Pyi.s:73     .text:0000000000000038 _Z15thread_dispatchv
     /tmp/cckm6Pyi.s:76     .text:0000000000000038 .L0 
     /tmp/cckm6Pyi.s:77     .text:0000000000000038 .L0 
     /tmp/cckm6Pyi.s:78     .text:000000000000003c .L0 
     /tmp/cckm6Pyi.s:80     .text:0000000000000040 .L0 
     /tmp/cckm6Pyi.s:82     .text:0000000000000044 .L0 
     /tmp/cckm6Pyi.s:84     .text:0000000000000044 .L0 
     /tmp/cckm6Pyi.s:85     .text:0000000000000044 .L0 
     /tmp/cckm6Pyi.s:91     .text:000000000000004c .L0 
   src/syscall_c.cpp:28     .text:000000000000004c .L0 
     /tmp/cckm6Pyi.s:97     .text:0000000000000050 .L0 
     /tmp/cckm6Pyi.s:98     .text:0000000000000054 .L0 
     /tmp/cckm6Pyi.s:99     .text:0000000000000054 .L0 
     /tmp/cckm6Pyi.s:101    .text:0000000000000058 .L0 
     /tmp/cckm6Pyi.s:103    .text:000000000000005c .L0 
     /tmp/cckm6Pyi.s:109    .text:000000000000005c .L0 
     /tmp/cckm6Pyi.s:344    .debug_abbrev:0000000000000000 .Ldebug_abbrev0
     /tmp/cckm6Pyi.s:703    .debug_str:0000000000000163 .LASF25
     /tmp/cckm6Pyi.s:693    .debug_str:000000000000010e .LASF26
     /tmp/cckm6Pyi.s:681    .debug_str:00000000000000a5 .LASF27
     /tmp/cckm6Pyi.s:5      .text:0000000000000000 .Ltext0
     /tmp/cckm6Pyi.s:106    .text:000000000000005c .Letext0
     /tmp/cckm6Pyi.s:657    .debug_line:0000000000000000 .Ldebug_line0
     /tmp/cckm6Pyi.s:659    .debug_str:0000000000000000 .LASF0
     /tmp/cckm6Pyi.s:701    .debug_str:0000000000000150 .LASF1
     /tmp/cckm6Pyi.s:687    .debug_str:00000000000000d8 .LASF2
     /tmp/cckm6Pyi.s:713    .debug_str:000000000000026a .LASF3
     /tmp/cckm6Pyi.s:675    .debug_str:000000000000006f .LASF4
     /tmp/cckm6Pyi.s:671    .debug_str:000000000000004a .LASF5
     /tmp/cckm6Pyi.s:665    .debug_str:000000000000002a .LASF6
GAS LISTING /tmp/cckm6Pyi.s 			page 5


     /tmp/cckm6Pyi.s:673    .debug_str:000000000000005c .LASF7
     /tmp/cckm6Pyi.s:699    .debug_str:000000000000013d .LASF8
     /tmp/cckm6Pyi.s:711    .debug_str:000000000000025a .LASF9
     /tmp/cckm6Pyi.s:661    .debug_str:000000000000000d .LASF10
     /tmp/cckm6Pyi.s:663    .debug_str:000000000000001b .LASF11
     /tmp/cckm6Pyi.s:705    .debug_str:0000000000000227 .LASF12
     /tmp/cckm6Pyi.s:667    .debug_str:0000000000000031 .LASF13
     /tmp/cckm6Pyi.s:715    .debug_str:0000000000000271 .LASF14
     /tmp/cckm6Pyi.s:685    .debug_str:00000000000000cc .LASF15
     /tmp/cckm6Pyi.s:697    .debug_str:0000000000000127 .LASF16
     /tmp/cckm6Pyi.s:691    .debug_str:00000000000000f8 .LASF17
     /tmp/cckm6Pyi.s:721    .debug_str:00000000000002a6 .LASF18
     /tmp/cckm6Pyi.s:689    .debug_str:00000000000000e6 .LASF19
     /tmp/cckm6Pyi.s:709    .debug_str:0000000000000244 .LASF20
     /tmp/cckm6Pyi.s:683    .debug_str:00000000000000c3 .LASF21
     /tmp/cckm6Pyi.s:719    .debug_str:0000000000000296 .LASF28
     /tmp/cckm6Pyi.s:717    .debug_str:0000000000000281 .LASF29
     /tmp/cckm6Pyi.s:74     .text:0000000000000038 .LFB1
     /tmp/cckm6Pyi.s:104    .text:000000000000005c .LFE1
     /tmp/cckm6Pyi.s:707    .debug_str:0000000000000236 .LASF30
     /tmp/cckm6Pyi.s:677    .debug_str:0000000000000076 .LASF31
     /tmp/cckm6Pyi.s:10     .text:0000000000000000 .LFB0
     /tmp/cckm6Pyi.s:68     .text:0000000000000038 .LFE0
     /tmp/cckm6Pyi.s:695    .debug_str:0000000000000120 .LASF22
     /tmp/cckm6Pyi.s:630    .debug_loc:0000000000000000 .LLST0
     /tmp/cckm6Pyi.s:679    .debug_str:0000000000000097 .LASF23
     /tmp/cckm6Pyi.s:669    .debug_str:0000000000000041 .LASF24
     /tmp/cckm6Pyi.s:14     .text:0000000000000000 .LVL0
     /tmp/cckm6Pyi.s:56     .text:0000000000000028 .LVL1
     /tmp/cckm6Pyi.s:110    .debug_info:0000000000000000 .Ldebug_info0

NO UNDEFINED SYMBOLS
